#!/usr/bin/env bash

set -e

# debug
DEBUG=${DEBUG:-''}
[ -n "${DEBUG}" ] && set -x

# set SCRIPT_PATH, used for external refs
SCRIPT_PATH="$(cd $(dirname "$0")/$(dirname "$(readlink "$0")") && pwd)"

echo Status Report for $(hostname)
echo ==============================================
echo
cat /var/run/motd.dynamic
echo ==============================================
echo
echo Disk usage
df -hl
echo
echo
echo ==============================================
echo
echo Mounts "(Count: $(mount | grep /mnt | wc -l))"
mount | grep /mnt
echo
echo
echo ==============================================
echo
echo Cron logs
cat ${SCRIPT_PATH}/cron.log
echo "" > ${SCRIPT_PATH}/cron.log
